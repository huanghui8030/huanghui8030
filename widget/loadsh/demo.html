<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>loadsh用法示例</title>
  </head>
  <body>
    <div>
        <h4> N 次循环</h4>
        一般方法：<span id="s11"></span><br><br/>
        Array方法：<span id="s12"></span><br><br/>
        loadsh的_.times方法：<span id="s13"></span><br/><br/>
    </div>
    <div>
        <h4>深层查找属性值</h4>
        一般方法：<span id="s21"></span><br><br/>
        loadsh的_.map()方法：<span id="s22"></span><br><br/>
    </div>
    <div>
      <h4>随机数</h4>
        产生随机数pickRandomPerson方法：<span id='span1'>&nbsp;</span><br/><br/>
        通过lodsh产生的随机数方法：<span id='span2'></span><br/><br/>
        产生2个随机数的方法：<span id='span3'></span><br/>
    </div>

    <script src='js/loadsh.min.js'></script>
    <script>
/******************** _.times(n,function(){...}) N次循环  ****************************/
  // 1. for循环
  var s1 = document.getElementById('s11');
  for(var i = 0; i < 5; i++) {
      var html1 = s1.innerHTML;
      html1 += 1;
      s1.innerHTML = html1;
  }

  // 2. Array数组循环
  var s2 = document.getElementById('s12');
  Array.apply(null, Array(5)).forEach(function(){
    var html2 = s2.innerHTML;
    html2 += 1;
    s2.innerHTML = html2;
  });

  // Lodash
  var s3 = document.getElementById('s13');
  _.times(5, function(){
    var html3 = s3.innerHTML;
    html3 += 1;
    s3.innerHTML = html3;
  });

/******************** _.map(Array,name) 深层查找属性值  ****************************/

var ownerArr = [{
    "owner": "Colin",
    "pets": [{"name":"dog1"}, {"name": "dog2"}]
}, {
    "owner": "John",
    "pets": [{"name":"dog3"}, {"name": "dog4"}]
}];

// Array's map method.
var s21 = document.getElementById('s21');
ownerArr.map(function(owner){
   var html = s21 .innerHTML;
   html += owner.pets[0].name
   s21.innerHTML = html ;
});

// Lodash
document.getElementById('s22').innerHTML = _.map(ownerArr, 'pets[0].name');


/*******************  _.sample() 产生随机数  ********************/

var luckyDraw = ["Colin", "John", "James", "Lily", "Mary"];

function pickRandomPerson(luckyDraw){
  var index = Math.floor(Math.random() * (luckyDraw.length -1));
  return luckyDraw[index];
}

document.getElementById('span1').innerHTML = pickRandomPerson(luckyDraw);


// Lodash 产生随机数
document.getElementById('span2').innerHTML = _.sample(luckyDraw); // Colin

// Lodash - Getting 2 random item
document.getElementById('span3').innerHTML = _.sample(luckyDraw, 3); // ['John','Lily']



    </script>
  </body>
</html>
